<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>just a DEVeloper</title>

  <meta property="og:title" content="just a DEVeloper">
  <meta property="og:description" content="">
  <meta property="og:type" content="profile">
  <meta property="og:url" content="https://easytae.github.io/">
  <meta property="og:image" content="https://easytae.github.io/img/name_card.webp">
  <meta property="og:image:type" content="image/webp"/>
  <meta property="og:image:width" content="600"/>
  <meta property="og:image:height" content="300"/>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
  <style>
    img.profile-img {
      width: 80px;
      height: 80px;
      border-radius: 40px;
      border: 5px solid #343a40;
    }

    @media screen and (max-width: 768px) {
      aside.sidebar {
        width: 105px;
      }

      aside.sidebar .profile-title {
        display: none;
      }

      ul#toc > li > a {
        text-align: center;
      }

      ul#toc > li > a > i {
        font-size: 1.8rem;
      }

      ul#toc > li > a > span {
        display: none;
      }

      main {
        padding-left: calc(var(--bs-gutter-x) / 2 + 105px) !important;
        padding-right: calc(var(--bs-gutter-x) / 2) !important;
      }
    }

    @media screen and (min-width: 768px) {
      aside.sidebar {
        width: 256px;
      }

      main {
        padding-left: calc(var(--bs-gutter-x) / 2 + 256px) !important;
        padding-right: calc(var(--bs-gutter-x) / 2) !important;
      }
    }

    main > h1 {
      font-weight: bold;
    }

    main > h1:not(:first-child) {
      margin-top: 2rem;
    }

    rt {
      text-align: left;
      ruby-align: start;
    }

    .form-control-plaintext {
      cursor: default;
      padding-left: 1rem;
    }

    .card {
      width: 16rem;
    }

    #experience-calendar > div {
      width: 165px;
      height: 88px;
    }
  </style>
</head>
<body>
<div class="container-fluid">
  <div class="row">
    <aside class="sidebar position-fixed vh-100 py-3 bg-dark text-white">
      <div class="d-flex align-items-center">
        <div class="flex-shrink-0">
          <img src="/img/profile.webp" class="profile-img">
        </div>
        <div class="flex-grow-1 mx-3 profile-title">
          <small><i>just a</i></small>&nbsp;DEVeloper
        </div>
      </div>
      <hr/>
      <ul id="toc" class="nav nav-pills flex-column">
        <li class="nav-item">
          <a href="#personal-header" class="nav-link text-white">
            <i class="bi bi-file-person me-2"></i><span>Jitae Lee</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="#license-header" class="nav-link text-white">
            <i class="bi bi-award me-2"></i><span>License</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="#calendar-header" class="nav-link text-white">
            <i class="bi bi-calendar3 me-2"></i><span>Experience Calendar</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="#detail-header" class="nav-link text-white">
            <i class="bi bi-journal-text me-2"></i><span>Experience Details</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="#contact-header" class="nav-link text-white">
            <i class="bi bi-signpost-2 me-2"></i><span>Contact</span>
          </a>
        </li>
      </ul>
    </aside>
  </div>
  <main class="row py-3">
    <h1 id="personal-header">
      <ruby>개인<rt>Personal</rt></ruby>&nbsp;<ruby>정보<rt>Infomation</rt></ruby>
    </h1>
    <div id="personal">
      <div class="row">
        <div class="col-md-4 col-xl">
          <label for="name" class="badge bg-secondary">이름</label>
          <input id="name" class="form-control-plaintext" value="이지태" readonly/>
        </div>
        <div class="col-md-4 col-xl">
          <label for="name-en" class="badge bg-secondary">Name</label>
          <input id="name-en" class="form-control-plaintext" value="Jitae Lee" readonly/>
        </div>
        <div class="col-md-4 col-xl">
          <label for="birthday" class="badge bg-secondary">생일</label>
          <input id="birthday" class="form-control-plaintext" value="1989-03-**" readonly/>
        </div>
        <div class="col">
          <label for="addr" class="badge bg-secondary">거주지</label>
          <input id="addr" class="form-control-plaintext" value="서울 성동구 금호동4가" readonly/>
        </div>
      </div>
    </div>

    <h1 id="license-header">
      <ruby>자격증<rt>License</rt></ruby>
    </h1>
    <div id="license">
      <div class="row g-2">
        <div class="col">
          <div class="card">
            <div class="card-header text-center"><i class="bi bi-award me-2"></i>정보처리기사</div>
            <div class="card-body">
              <div class="row g-2">
                <div class="card-text col-auto"><span class="badge bg-secondary"><small>합격일</small></span></div>
                <div class="card-text col"><small class="text-muted">2012-11-**</small></div>
              </div>
              <div class="row g-2">
                <div class="card-text col-auto"><span class="badge bg-secondary"><small>발행일</small></span></div>
                <div class="card-text col"><small class="text-muted">2013-07-**</small></div>
              </div>
              <div class="row g-2 mt-2">
                <div class="card-text col-auto"><span class="badge bg-secondary"><small>발행처</small></span></div>
                <div class="card-text col">대한상공회의소</div>
              </div>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card">
            <div class="card-header text-center"><i class="bi bi-award me-2"></i>컴퓨터그래픽스운용기능사</div>
            <div class="card-body">
              <div class="row g-2">
                <div class="card-text col-auto"><span class="badge bg-secondary"><small>합격일</small></span></div>
                <div class="card-text col"><small class="text-muted">2012-11-**</small></div>
              </div>
              <div class="row g-2">
                <div class="card-text col-auto"><span class="badge bg-secondary"><small>발행일</small></span></div>
                <div class="card-text col"><small class="text-muted">2013-07-**</small></div>
              </div>
              <div class="row g-2 mt-2">
                <div class="card-text col-auto"><span class="badge bg-secondary"><small>발행처</small></span></div>
                <div class="card-text col">대한상공회의소</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <h1 id="calendar-header">
      <ruby>경력<rt>Experience</rt></ruby>&nbsp;<ruby>달력<rt>Calendar</rt></ruby>
    </h1>
    <div id="calendar">
      <div id="experience-calendar" class="d-flex flex-wrap"></div>
      <template id="exp-cal-tmpl">
        <div class="border p-1">
          <div class="row">
            <div class="col text-end"><small class="text-muted"></small></div>
          </div>
          <div class="my-1">
          </div>
        </div>
      </template>
      <template id="exp-cal-year-tmpl">
        <div class="col"><span class="badge bg-secondary"></span></div>
      </template>
      <!-- #exp-cal-evt-tmpl-var -->
      <!-- top: 0, 25 -->
      <!-- right: 0, 165, 330, ... (n-1)x165-->
      <template id="exp-cal-evt-tmpl">
        <div class="position-relative">
          <div class="rounded text-white px-1" data-bs-toggle="tooltip"><small></small></div>
        </div>
      </template>
      <script>
        class ExpCal {
          static blockOffsets = [];
          static needRedraw = false;
          static events = [];

          static draw() {
            let calRoot = document.querySelector('#experience-calendar');

            // draw block
            (function (startYear, startMonth, endYear, endMonth) {
              let createBlock = function (year, month, yearDisplay) {
                let tmpl = document.importNode(document.querySelector('#exp-cal-tmpl').content, true);
                tmpl.querySelector('div').id = `exp-cal-b-${year}-${month}`;
                if (yearDisplay) {
                  let yearTmpl = document.importNode(document.querySelector('#exp-cal-year-tmpl').content, true);
                  yearTmpl.querySelector('div>span').textContent = year;
                  tmpl.querySelector('div>div:nth-child(1)').prepend(yearTmpl);
                }
                tmpl.querySelector('div>div:nth-child(1)>div>small').textContent = month;
                return tmpl;
              };

              calRoot.querySelectorAll('*').forEach(c => c.remove());

              for (let m = startMonth; m <= 12; m++) {
                calRoot.appendChild(createBlock(startYear, m, m == startMonth));
              }
              for (let y = startYear + 1; y <= endYear - 1; y++) {
                for (let m = 1; m <= 12; m++) {
                  calRoot.appendChild(createBlock(y, m, m == 1));
                }
              }
              for (let m = 1; m <= endMonth; m++) {
                calRoot.appendChild(createBlock(endYear, m, m == 1));
              }
            })(ExpCal.events[0].startYear, ExpCal.events[0].startMonth,
              ExpCal.events[ExpCal.events.length - 1].endYear, ExpCal.events[ExpCal.events.length - 1].endMonth);

            // add col counting event
            let blockOffsetsRecord = function () {
              let offsets = [calRoot.children[0].offsetLeft];
              for (let i = 1; i < calRoot.childElementCount; i++) {
                let offsetLeft = calRoot.children[i].offsetLeft;
                if (offsetLeft != offsets[0]) {
                  offsets.push(offsetLeft);
                } else {
                  break;
                }
              }
              let diff = !(ExpCal.blockOffsets.length === offsets.length && ExpCal.blockOffsets.every((v, i) => v === offsets[i]));
              if (diff) {
                ExpCal.blockOffsets = offsets;
                ExpCal.needRedraw = true;
              }
            };
            blockOffsetsRecord();
            window.addEventListener('resize', blockOffsetsRecord);

            // add draw event
            ExpCal.events.forEach((evt) => {
              let period = 1;
              if (evt.startYear == evt.endYear) {
                period = evt.endMonth - evt.startMonth + 1;
              } else {
                period = (12 - evt.startMonth + 1) + ((evt.endYear - evt.startYear > 1 ? evt.endYear - evt.startYear - 1 : 0) * 12) + (evt.endMonth);
              }
              evt['period'] = period;
            });
            let drawEventBlock = function () {
              let evtTmpl = function (bg, isTop, size, txt) {
                let tmpl = document.importNode(document.querySelector('#exp-cal-evt-tmpl').content, true);
                tmpl.querySelector('div>div').classList.add(`bg-${bg}`);
                tmpl.querySelector('div>div').setAttribute('style', `position:absolute;top:${isTop ? '0' : '25'}px;left:0;right:-${(size - 1) * 165}px`);
                tmpl.querySelector('div>div>small').textContent = txt;
                return tmpl;
              };

              if (ExpCal.needRedraw) {
                document.querySelectorAll('[id^="exp-cal-b-"]>div:nth-child(2)').forEach(eceb => eceb.innerHTML = "");
                ExpCal.events.forEach(evt => {
                  let remain = evt.period;
                  let startYear = evt.startYear;
                  let startMonth = evt.startMonth;
                  let title = evt.title;
                  while (remain > 0) {
                    let startBlock = document.querySelector(`#exp-cal-b-${startYear}-${startMonth} > div:nth-child(2)`);
                    let availSize = ExpCal.blockOffsets.length - ExpCal.blockOffsets.indexOf(startBlock.parentElement.offsetLeft);
                    if (remain <= availSize) {
                      startBlock.appendChild(evtTmpl(evt.color, evt.isTop, remain, title));
                      remain = 0;
                    } else {
                      startBlock.appendChild(evtTmpl(evt.color, evt.isTop, availSize, title));
                      remain -= availSize;
                      startYear += Math.floor((startMonth - 1 + availSize) / 12);
                      startMonth = (startMonth - 1 + availSize) % 12 + 1;
                      title = title;
                    }
                  }
                });
                ExpCal.needRedraw = false;
              }
            };
            drawEventBlock();
            window.addEventListener('resize', drawEventBlock);
          }
        }

        ExpCal.events.push({startYear: 2010, startMonth: 8, endYear: 2012, endMonth: 2, title: 'Univ', isTop: true, color: 'success'});
        ExpCal.events.push({startYear: 2010, startMonth: 8, endYear: 2011, endMonth: 2, title: 'e', isTop: false, color: 'info'});
        ExpCal.events.push({startYear: 2011, startMonth: 8, endYear: 2011, endMonth: 10, title: 'm', isTop: false, color: 'primary'});
        ExpCal.events.push({startYear: 2012, startMonth: 6, endYear: 2012, endMonth: 11, title: 'c', isTop: true, color: 'primary'});
        ExpCal.events.push({startYear: 2013, startMonth: 3, endYear: 2014, endMonth: 1, title: 'x', isTop: true, color: 'danger'});
        ExpCal.events.push({startYear: 2014, startMonth: 1, endYear: 2016, endMonth: 6, title: 's', isTop: false, color: 'primary'});
        ExpCal.events.push({startYear: 2016, startMonth: 7, endYear: 2017, endMonth: 10, title: 'Study', isTop: true, color: 'success'});
        ExpCal.events.push({startYear: 2017, startMonth: 12, endYear: 2018, endMonth: 1, title: 'i', isTop: true, color: 'primary'});
        ExpCal.events.push({startYear: 2018, startMonth: 2, endYear: 2019, endMonth: 8, title: 'k', isTop: true, color: 'primary'});
        ExpCal.events.push({startYear: 2019, startMonth: 9, endYear: 2019, endMonth: 9, title: 't', isTop: true, color: 'primary'});
        ExpCal.events.push({startYear: 2019, startMonth: 10, endYear: 2019, endMonth: 12, title: 'l', isTop: true, color: 'warning'});
        ExpCal.events.push({startYear: 2020, startMonth: 3, endYear: 2020, endMonth: 6, title: 's', isTop: true, color: 'primary'});
        ExpCal.events.push({startYear: 2020, startMonth: 8, endYear: 2021, endMonth: 6, title: 'b', isTop: true, color: 'warning'});
        ExpCal.draw();
      </script>
    </div>

    <h1 id="detail-header">
      <ruby>경력<rt>Experience</rt></ruby>&nbsp;<ruby>상세<rt>Details</rt></ruby>
    </h1>
    <div id="project">
    </div>

    <h1 id="contact-header">
      <ruby>연락처<rt>Contact</rt></ruby>
    </h1>
    <div id="contact">
      전화번호, 이메일(네이버), 링크드인, 깃헙
    </div>
  </main>
</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

